version: '3.8'

services:
  app:
    build: .
    ports:
      - "3000:3000"  # Ensure this port is not in conflict
    restart: always
    environment:
      - NODE_ENV=production

#  nginx:
#    image: nginx:latest
#    ports:
#      - "80:80"  # Ensure this port is free
#    volumes:
#      - ./nginx.conf:/etc/nginx/nginx.conf:ro
#    depends_on:
#      - app  # Only nginx should depend on app, not the other way around